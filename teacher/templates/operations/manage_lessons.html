{% extends "base.html" %}
{% load i18n %}
{% load static %}

{% block title %}

{% trans "School Manager Board" %}

{% endblock title %}

{% block extra_css %}


<style>

.list-group-item-main-color {background-color: rgb(150, 50, 110); border:0;}
.list-group {box-shadow: 0px 11px 23px 5px rgba(0,0,0,0.34);} 
.img-course {
    float:left; 
    margin-right:15px;
    height: 128px;
    width: 128px;
} 
.img-rounded {border-radius: 6px;}

.main-button{
    background-color: rgb(150, 50, 110);
}

</style>
{% endblock %}

{% block content %}
<div class="container">
    <ul class="list-group">

        {% for lesson in object_list %}

        <li class="list-group-item-main-color clearfix mt-3  list-group-item"id="lesson-{{ lesson.id }}">
            {% if lesson.image %}
            <img class="img-responsive img-rounded img-course"
                src="{{ lesson.image }}" alt=""/>
            {% else %}
            <img src="#"
                alt="..." 
                class="img-fluid rounded slider-image-full">
            {% endif %}
            <h3 class="list-group-item-heading">
                {{ lesson }}
                <br>
                <span class="pull-right btn bg bg-white" style="font-size:small;">                    
                    {{ lesson.created_at }}
                </span>
            </h3>
            <p class="list-group-item-text lead">
                {{ lesson.description }}                
            </p>
            <div class="btn-toolbar pull-right" role="toolbar" aria-label="">
                 <div class="btn-group">
                    <ul class="navbar-nav mb-2 mb-lg-0 me-3">
                        <li class="nav-item dropdown">
                            <a class="nav-link dropdown-toggle"
                                href="#"
                                id="navbarDropdown" role="button"
                                data-bs-toggle="dropdown" aria-expanded="false"
                                style="color:rgba(255, 255, 255, 1);">
                                <i class="bi bi-grid-3x3-gap"></i>
                            </a>
                            <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
                                <li>
                                    <a class="dropdown-item"
                                        href="{% url 'Lesson' course.id lesson.id %}">
                                        {% trans "View lesson Details" %}
                                    </a>
                                </li>
                                <hr class="dropdown-divider">
                                <li>
                                    <a class="btn" style="background-color:rgb(150, 50, 110);" 
                                        href="{% url 'LessonUpdate' lesson.id %}">
                                        {% trans "Update lesson" %}
                                    </a>
                                    <button class="delete-btn-lesson btn main-button"
                                        data-lesson-id="{{ lesson.id }}">
                                        <i class="bi bi-trash"></i>
                                        {% trans "Delete" %}
                                    </button>
                                </li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </li>

        {% empty %}

        <h2 class="text-muted">{% trans "There is no lessons for now" %}</h2>

        {% endfor %}

    </ul>
</div>
<div class="d-flex justify-content-center mt-5 py-5">
    <button class="btn btn-lg main-button">
        <a href="{% url 'LessonCreate' %}" class="btn main-button">
                <i class="bi bi-plus-lg "></i> {% trans 'New lesson'%}
        </a>
    </button>
</div>


{% endblock %}


{% block extra_js %}

<script defer src="{% static 'js/deleteObj.js' %}"></script>

{% endblock extra_js %}